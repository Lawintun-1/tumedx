<div id="content-wrapper">
    <h3 class="text-xl font-bold text-indigo-700 mb-4">
        Edit Material: {{ material.name }}
    </h3>

    <form hx-post="{{ url_for('teacher.update_material') }}"
          hx-vals='{"material_id": "{{ material.id }}"}'
          hx-target="#content-wrapper"
          hx-swap="outerHTML"
          class="space-y-4">

        <!-- Material Name -->
        <div>
            <label class="block text-sm font-medium text-gray-700">Name</label>
            <input type="text" name="name" value="{{ material.name }}" required
                   class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
        </div>

        <!-- Material Type -->
        <div>
            <label class="block text-sm font-medium text-gray-700">Type</label>
            <select name="type" id="material-type" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                <option value="text" {% if material.type == 'text' %}selected{% endif %}>Text</option>
                <option value="video" {% if material.type == 'video' %}selected{% endif %}>Video (YouTube)</option>
                <option value="image" {% if material.type == 'image' %}selected{% endif %}>Image</option>
            </select>
        </div>

        <!-- Material Content -->
        <div id="content-field">
            {% if material.type == 'text' %}
                <textarea name="content" rows="4"
                          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"
                          required>{{ material.content }}</textarea>
            {% else %}
                <input type="url" name="content" value="{{ material.content }}"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"
                       required>
            {% endif %}
        </div>

        <!-- Buttons -->
        <div class="flex justify-end gap-2">
            <button type="submit" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">
                Save
            </button>
            <button type="button"
                    hx-post="{{ url_for('teacher.cancel_edit_material') }}"
                    hx-vals='{"session_id": "{{ material.session_id }}"}'
                    hx-target="#content-wrapper"
                    hx-swap="outerHTML"
                    class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
                Back
            </button>
        </div>
    </form>
</div>
