<div class="p-6">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-800">{{ course.title }}</h2>
        <p class="text-gray-600">{{ course.description }}</p>
    </div>

    <div class="space-y-4">
        {% for ch in chapters %}
            {% if ch.id in lock_chapter_id_list %}
                <!-- Locked Chapter -->
                <div class="p-4 rounded-lg border shadow-sm flex items-center justify-between
                            bg-gray-100 border-gray-300 opacity-70 cursor-not-allowed">
                    <div>
                        <h3 class="font-semibold text-gray-500">Chapter {{ ch.order }}: {{ ch.title }}</h3>
                        <p class="text-sm text-gray-400">{{ ch.description }}</p>
                    </div>

                    <button disabled
                        class="px-3 py-1 bg-gray-400 text-white text-sm rounded-lg flex items-center gap-1 cursor-not-allowed">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2h-1V9a5 5 0 00-10 0v2H6a2 2 0 00-2 2v6a2 2 0 002 2z"/>
                        </svg>
                        Locked
                    </button>
                </div>
            {% else %}
                <!-- Unlocked Chapter -->
                <div class="p-4 rounded-lg border shadow-sm flex items-center justify-between
                            bg-indigo-50 border-indigo-400">
                    <div>
                        <h3 class="font-semibold text-gray-800">Chapter {{ ch.order }}: {{ ch.title }}</h3>
                        <p class="text-sm text-gray-600">{{ ch.description }}</p>
                    </div>

                    <button 
                        hx-get="{{ url_for('student.chapter_view', chapter_id=ch.id, enrollment_id=enrollment_id) }}" 
                        hx-target="#content-wrapper" 
                        hx-swap="innerHTML"
                        class="px-3 py-1 bg-indigo-500 text-white text-sm rounded-lg hover:bg-indigo-600">
                        Start â†’
                    </button>
                </div>
            {% endif %}
        {% endfor %}
    </div>
</div>
