<div id="content-wrapper" x-data="{ type: '{{ material.type }}' }" class="p-6 bg-white rounded shadow-md max-w-xl mx-auto">

    <!-- Header -->
    <h3 class="text-2xl font-semibold text-indigo-700 mb-6 flex items-center gap-2">
        ‚úèÔ∏è Edit Material
        <span class="text-gray-500 text-lg">({{ material.name or 'Untitled' }})</span>
    </h3>

    <form hx-post="{{ url_for('teacher.update_material') }}"
          hx-target="#content-wrapper"
          hx-swap="outerHTML"
          class="space-y-4">

        <!-- Hidden fields -->
        <input type="hidden" name="material_id" value="{{ material.id }}">
        <input type="hidden" name="session_id" value="{{ material.session_id }}">

        <!-- Material Name -->
        <div>
            <label class="block text-sm font-medium text-gray-700">Name</label>
            <input type="text" name="name" value="{{ material.name }}" required
                   class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
        </div>

        <!-- Material Type -->
        <div>
            <label class="block text-sm font-medium text-gray-700">Type</label>
            <select name="type" x-model="type"
                    class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                <option value="text">Text</option>
                <option value="video">Video (YouTube)</option>
                <option value="image">Image</option>
            </select>
        </div>

        <!-- Material Content -->
        <div id="content-field">
            <!-- Text area for text -->
            <template x-if="type === 'text'">
                <textarea name="content" rows="4" required
                          class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">{{ material.content if material.type=='text' else '' }}</textarea>
            </template>

            <!-- URL input for video -->
            <template x-if="type === 'video'">
                <input type="url" name="content" required
                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"
                       placeholder="https://youtu.be/..."
                       value="{{ material.content if material.type=='video' else '' }}">
            </template>

            <!-- URL input for image -->
            <template x-if="type === 'image'">
                <input type="url" name="content" required
                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"
                       placeholder="https://example.com/image.jpg"
                       value="{{ material.content if material.type=='image' else '' }}">
            </template>
        </div>

        <!-- Buttons -->
        <div class="flex justify-end gap-3 mt-4">
            <button type="submit"
                    class="px-5 py-2 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 shadow transition">
                üíæ Save
            </button>
            <button type="button"
                    hx-post="{{ url_for('teacher.cancel_edit_material') }}"
                    hx-vals='{"session_id": "{{ material.session_id }}"}'
                    hx-target="#content-wrapper"
                    hx-swap="outerHTML"
                    class="px-5 py-2 bg-gray-500 text-white font-medium rounded-xl hover:bg-gray-600 shadow transition">
                ‚Ü©Ô∏è Back
            </button>
        </div>
    </form>
</div>

<!-- Alpine.js -->
<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
